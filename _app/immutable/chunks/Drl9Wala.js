import{D as l,F as h,G as T,I as p,J as k,K as _,L as C,M as R,N,O,t as d,P as m,Q as I,R as Y,S as E,T as y,U as g,V as A,W as B,X as L,Y as M,Z as x,w as o,_ as v,$ as z,a0 as q,a1 as K,q as w}from"./C3hMSKSq.js";function D(s,n){var e={f:0,v:s,reactions:null,equals:N,rv:0,wv:0};return e}function H(s){return S(D(s))}function J(s,n=!1){const e=D(s);return n||(e.equals=R),e}function S(s){return l!==null&&!h&&l.f&p&&(_===null?x([s]):_.push(s)),s}function P(s,n){return l!==null&&!h&&T()&&l.f&(p|k)&&(_===null||!_.includes(s))&&C(),U(s,n)}function U(s,n){return s.equals(n)||(s.v,s.v=n,s.wv=O(),F(s,g),d!==null&&d.f&m&&!(d.f&(I|Y))&&(E===null?y([s]):E.push(s))),n}function F(s,n){var e=s.reactions;if(e!==null)for(var t=e.length,i=0;i<t;i++){var a=e[i],c=a.f;c&g||(A(a,n),c&(m|B)&&(c&p?F(a,L):M(a)))}}function V(s,n,e){if(s==null)return n(void 0),o;const t=v(()=>s.subscribe(n,e));return t.unsubscribe?()=>t.unsubscribe():t}const f=[];function Q(s,n=o){let e=null;const t=new Set;function i(r){if(z(s,r)&&(s=r,e)){const b=!f.length;for(const u of t)u[1](),f.push(u,s);if(b){for(let u=0;u<f.length;u+=2)f[u][0](f[u+1]);f.length=0}}}function a(r){i(r(s))}function c(r,b=o){const u=[r,b];return t.add(u),t.size===1&&(e=n(i,a)||o),r(s),()=>{t.delete(u),t.size===0&&e&&(e(),e=null)}}return{set:i,update:a,subscribe:c}}function X(s){let n;return V(s,e=>n=e)(),n}function W(s){w===null&&q(),K(()=>{const n=v(s);if(typeof n=="function")return n})}function Z(s){w===null&&q(),W(()=>()=>v(s))}export{P as a,V as b,H as c,Z as d,X as g,U as i,J as m,W as o,D as s,Q as w};
